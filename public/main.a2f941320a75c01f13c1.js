(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(t,e,i){i("eeGT"),i("I4Jk"),t.exports=i("dsjS")},"4EH+":function(t,e,i){var n=i("Mp44"),s=n.createElement,a=i("rzyw").SizesField,o=i("4Oex").FilesField,r=i("7J3b").GenerateField,h=n.defineTag("OptionPanel",(function(t){t.prototype.render=function(){var t=this.$;return this.$open(0).setChildren(t.$=t.$||[s("div",t,0,this).css("display","grid").css("grid-template-rows","0.5fr 1fr 1fr 1fr").setContent([s("div",t,1,0).setId("title").setContent(t[2]||s("h1",t,2,1).css("font-size","25px").css("padding","18px 0 0 29px").css("font-weight","500").setText("IMAGE COPIER"),2),s(a,t,3,0),s(o,t,4,0),s(r,t,5,0)],2),s("div",t,6,this).flag("footer").setContent([s("div",t,7,6).setId("copyright").flag("small-text").setContent(t[8]||s("p",t,8,7).setContent(["Made by ",t[9]||s("a",t,9,8).setId("github").setHref("https://github.com/athif23").css("font-weight","500").css("text-decoration","underline").setText("At Indo")],2),2),s("div",t,10,6).setId("donate").setContent(t[11]||s("button",t,11,10).setText("DONATES"),2)],2)],2).synced((t[0].end((t[2].end(),t[3].bindData(this,"data",[]).end(),t[4].bindData(this,"data",[]).end(),t[5].bindData(this,"data",[]).end(),!0)),t[9].end(),!0))}}));e.OptionPanel=h},"4Oex":function(t,e,i){var n=i("Mp44"),s=n.createElement;i("ZLE6").Utils;var a=i("4fpI").FileInput,o=n.defineTag("FilesField",(function(t){t.prototype.mount=function(){var t=this;return t._dom.addEventListener("keyup",(function(e){return t.checkType(e)}))},t.prototype.checkType=function(t){return this.data()._paper.setDpi(parseInt(this.data()._density.value)),this.data()._paper.setCopies(parseInt(this.data()._copies.value)),this.checkAlert(),this.data()._stage.batchDraw()},t.prototype.checkAlert=function(){if(parseInt(this.data()._copies.value)>this.data()._paper._copiesLimit)return this.data()._paper._showAlertBox("copies");{let t=this._copies._dom.parentNode.querySelector(".alertBox");return t&&t.remove(),this._copies._dom.parentNode.classList.remove("warning")}},t.prototype.render=function(){var t,e,i,n=this.$;return this.$open(0).css("padding","5px 0").setChildren(n.$=n.$||[s("div",n,0,this).flag("files-field").flag("two-inputs").setContent([t=(t=s("div",n,1,0)).flag("density").flag("double").css("grid-column","2").setContent([s("label",n,2,1).flag("label").setFor("density").setText("DPI"),this._density=this._density||s("input",t).flag("density").flag("hidden-input").setName("density").setType("text").setMaxlength("4")],2),s("div",n,3,0).setId("space"),e=(e=s("div",n,4,0)).flag("copies").flag("double").css("grid-column","4").setContent([s("label",n,5,4).flag("label").setFor("copies").setText("Copies"),this._copies=this._copies||s("input",e).flag("copies").on$(0,["click","checkAlert"],this).flag("hidden-input").setName("copies").setType("text").setMaxlength("4")],2)],2),i=(i=s("div",n,6,this)).flag("format").setContent([s("label",n,7,6).flag("label").setFor("format").setText("Format"),this._formatpaper=this._formatpaper||s("input",i).flag("formatpaper").setName("format").setType("text").setMaxlength("4")],2),s(a,n,8,this)],2).synced((n[1].end((n[2].end(),this._density.bindData(this.data()._density,"value").end(),!0)),n[4].end((n[5].end(),this._copies.bindData(this.data()._copies,"value").setDisabled(this.data()._autoFill).end(),!0)),n[7].end(),this._formatpaper.bindData(this.data()._format,"value").end(),n[8].bindData(this,"data",[]).end(),!0))}}));e.FilesField=o},"4fpI":function(t,e,i){var n=i("Mp44"),s=n.createElement,a=n.defineTag("FileInput",(function(t){t.prototype.__labelText={default:"Select File",name:"labelText"},t.prototype.labelText=function(t){return this._labelText},t.prototype.setLabelText=function(t){return this._labelText=t,this},t.prototype._labelText="Select File",t.prototype.fileSelected=function(t){var e=this;if(t.target()._dom.files&&t.target()._dom.files.length>0){let i=t.target()._dom.value.split("\\").pop();e._labelText=i.substring(0,33).length>=33?i.substring(0,30)+"...":i;let n=new FileReader;return n.readAsDataURL(t.target()._dom.files[0]),n.onload=function(t){if(e.data()._paper.image.file!==n)return e.data()._paper.image.file=new Image,e.data()._paper.image.file.src=n.result,e.data()._paper.image.file.onload=function(t){var i;let n=e.data()._paper.image.file.width,s=e.data()._paper.image.file.height;return e.data()._paper.image.origWidth=n,e.data()._paper.image.origHeight=s,e.data()._sizes.width.value=""+n/2,e.data()._sizes.height.value=""+s/2,e.data()._paper.setImageSize(i={width:n/2,height:s/2}),i},e.data()._paper.image.file.onerror=function(t){return console.log(t)},e.data()._paper._isChanged=!0,e.data()._stage.batchDraw()}}},t.prototype.render=function(){var t=this.$;return this.$open(0).setChildren(t.$=t.$||[s("input",t,0,this).setId("files").setName("files").setType("file").on$(0,["change","fileSelected"],this),s("label",t,1,this).setFor("files")],2).synced((t[0].end(),t[1].setContent([t[2]||s("svg:svg",t,2,1).set("width","14").set("height","13").set("viewBox","0 0 14 13").set("fill","none").set("xmlns","http://www.w3.org/2000/svg").setContent([s("svg:path",t,3,2).set("d","M10.5683 4.52518L7.04317 1L3.51799 4.52518M7.04317 8.05035V1.5036V8.05035Z").set("stroke","white").set("stroke-width","1.33").set("stroke-linecap","round").set("stroke-linejoin","round"),s("svg:path",t,4,2).set("d","M1 8.11511V11C1 11.5523 1.44771 12 2 12H12.0863C12.6386 12 13.0863 11.5523 13.0863 11V8.11511").set("stroke","white").set("stroke-width","1.33")],2),""+this._labelText],1).end((t[2].end((t[3].end(),t[4].end(),!0)),!0)),!0))}}));e.FileInput=a},"7J3b":function(t,e,i){var n=i("Mp44"),s=n.createElement,a=n.defineTag("GenerateField",(function(t){t.prototype.onGenerate=function(t){return this.data()._paper._printPDF(this.data()._filename.value)},t.prototype.render=function(){var t=this.$;return this.$open(0).setChildren(t.$=t.$||[this._filename=this._filename||s("input",this).flag("filename").setType("text").on$(0,["keyup","onGenerate"],this).setPlaceholder("Generated file name?"),s("button",t,0,this).on$(0,["click","onGenerate"],this)],2).synced((this._filename.bindData(this.data()._filename,"value").end(),t[0].flagIf("loading",this.data()._paper._isLoading).setContent(this.data()._paper._isLoading?(t[1]||s("div",t,1,0).flag("lds-ellipsis").css("margin-top","-10px").css("outline","none").setContent([s("div",t,2,1),s("div",t,3,1),s("div",t,4,1),s("div",t,5,1)],2)).end():"GENERATE",3),!0))}}));e.GenerateField=a},"9ewe":function(t,e,i){"use strict";i.r(e),i.d(e,"ImageS",(function(){return a}));const n=i("Ni3L"),s=i("ZLE6").Utils.convertTo;class a extends n.Shape{constructor(t){super(t),this.origWidth=t.origWidth||0,this.origHeight=t.origHeight||0,this.unit=t.unit||"px",this.file=t.file||""}convertPX(t){return{width:()=>Math.round(s({from:"px",to:t},this.width(),72)),height:()=>Math.round(s({from:"px",to:t},this.height(),72)),file:this.file}}}},AU2K:function(t,e,i){var n=i("Mp44"),s=n.createElement,a=n.defineTag("UnitsButton","details",(function(t){t.prototype.options=function(t){return this._options},t.prototype.setOptions=function(t){return this._options=t,this},t.prototype.value=function(t){return this._value},t.prototype.setValue=function(t){return this._value=t,this},t.prototype.mouseDown=function(t){return this._mouseDown},t.prototype.setMouseDown=function(t){return this._mouseDown=t,this},t.prototype.data=function(t){return this._data},t.prototype.setData=function(t){return this._data=t,this},t.prototype.mount=function(){return this._options=this._dom.querySelectorAll(".select > .select__option"),this._mouseDown=!1,this._value=this._summary._dom.textContent=this._firstOption.value(),this.addEventListeners(),this.setAria()},t.prototype.addEventListeners=function(){var t=this;return t._dom.addEventListener("toggle",(function(){if(!t._dom.open)return t.updateValue()})),t._dom.addEventListener("focusout",(function(){if(!t._mouseDown)return t._dom.removeAttribute("open")})),t._options.forEach((function(e){return e.addEventListener("mousedown",(function(){return t._mouseDown=!0})),e.addEventListener("mouseup",(function(){return t._mouseDown=!1,t._dom.removeAttribute("open")}))})),t._dom.addEventListener("keyup",(function(e){var i;const n=e.which,s=[].concat([].slice.call(t._options)).indexOf(t._dom.querySelector(".active"));switch(n){case 27:return t._self._dom.removeAttribute("open");case 35:return e.preventDefault(),t._dom.open||t._dom.setAttribute("open",""),t.setChecked(t._options[t._options.length-1].querySelector("input"));case 36:return e.preventDefault(),t._dom.open||t._dom.setAttribute("open",""),t.setChecked(t._options[0].querySelector("input"));case 38:return e.preventDefault(),t._dom.open||t._dom.setAttribute("open",""),t.setChecked(t._options[s>0?s-1:0].querySelector("input"));case 40:return e.preventDefault(),t._dom.open||t._dom.setAttribute("open",""),t.setChecked((i=t._options[s<=t._options.length?s+1:t._options.length-1])&&i.querySelector&&i.querySelector("input"))}}))},t.prototype.setAria=function(){this._dom.setAttribute("aria-haspopup","listbox");const t=this._dom.querySelector(".select");return t.setAttribute("role","listbox"),t.querySelector("[type=radio]").setAttribute("role","option")},t.prototype.updateValue=function(t){const e=this._dom.querySelector("input:checked");if(e)return this.setValue(e),n.commit()},t.prototype.setChecked=function(t){return t.checked=!0,this.setValue(t)},t.prototype.setValue=function(t){if(this._value!==t.value)return this._summary._dom.textContent=t.parentNode.textContent,this._value=t.value,this._options.forEach((function(t){return t.classList.remove("active")})),t.parentNode.classList.add("active"),this._data.unit=this._value,this._dom.dispatchEvent(new Event("change"))},t.prototype.render=function(){var t,e=this.$;return this.$open(0).setChildren(e.$=e.$||[this._summary=this._summary||s("summary",this).flag("summary").setText("---"),s("div",e,0,this).flag("select").setContent([t=(t=s("label",e,1,0)).flag("select__option").setContent(["px",this._firstOption=this._firstOption||s("input",t).flag("firstOption").setType("radio").setName("option").setValue("px",1).setChecked("checked")],2),s("label",e,2,0).flag("select__option").setContent(["cm",e[3]||s("input",e,3,2).setType("radio").setName("option").setValue("cm",1)],2),s("label",e,4,0).flag("select__option").setContent(["mm",e[5]||s("input",e,5,4).setType("radio").setName("option").setValue("mm",1)],2),s("label",e,6,0).flag("select__option").setContent(["in",e[7]||s("input",e,7,6).setType("radio").setName("option").setValue("in",1)],2)],2)],2).synced((this._firstOption.end(),e[3].end(),e[5].end(),e[7].end(),!0))}}));e.UnitsButton=a},I4Jk:function(t,e,i){},"J+NY":function(t,e,i){"use strict";i.r(e),i.d(e,"PaperS",(function(){return h}));const n=i("Ni3L"),s=i("ZLE6").Utils.convertTo,a=i("5RHE"),o={x:25,y:25},r={x:1,y:1};class h extends n.Shape{constructor(t){super(t),this.unit=t.unit||"mm",this.image=t.image||{},this.copies=t.copies||1,this.margin=t.margin||o,this.space=t.space||r,this.autoFit=t.autoFit||!1,this.autoFill=t.autoFill||!1,this.justifyContent=t.justifyContent||!1,this.lockAspectRatio=t.lockAspectRatio||!1,this.dpi=t.dpi||72,this._isChanged=!1,this._scaleBy=1.1}_convertThis(t){return{size:{width:Math.round(s({from:"px",to:t},this.width(),this.dpi)),height:Math.round(s({from:"px",to:t},this.height(),this.dpi))},margin:{x:s({from:"px",to:t},this.margin.x,this.dpi),y:s({from:"px",to:t},this.margin.y,this.dpi)},space:{x:s({from:"px",to:t},this.space.x,this.dpi),y:s({from:"px",to:t},this.space.y,this.dpi)}}}_marginLines(t){if(this._groupMarginLines&&!this._isChanged)return;this._groupMarginLines&&this._groupMarginLines.destroy();let e=[this.margin.x,this.margin.y],i=[3,3];this._groupMarginLines=new n.Group;const s=new n.Line({points:[this.x()+e[0],this.y(),this.x()+e[0],this.y()+this.height()+1],stroke:"green",strokeWidth:1,lineJoin:"round",dash:i}),a=new n.Line({points:[this.x()+this.width()-e[0],this.y(),this.x()+this.width()-e[0],this.y()+this.height()+1],stroke:"green",strokeWidth:1,lineJoin:"round",dash:i}),o=new n.Line({points:[this.x(),this.y()+e[1],this.x()+this.width(),this.y()+e[1]],stroke:"green",strokeWidth:1,lineJoin:"round",dash:i}),r=new n.Line({points:[this.x(),this.y()+this.height()-e[1],this.x()+this.width(),this.y()+this.height()-e[1]],stroke:"green",strokeWidth:1,lineJoin:"round",dash:i});this._groupMarginLines.add(s),this._groupMarginLines.add(a),this._groupMarginLines.add(o),this._groupMarginLines.add(r),t.getLayer().add(this._groupMarginLines)}_calculateRender(t,e){const{margin:i,space:n,image:s,justifyContent:a}=e,o=t?0:this.x(),r=t?0:this.y(),h=t?e.size.width:this.width(),p=t?e.size.height:this.height(),d=s.height(),u=s.width(),l=h-2*i.x,c=p-2*i.y;let g=Math.trunc(l/(u+n.x)),f=Math.trunc(c/(d+n.y)),_=0,m=0,y=0,v=g*(u+n.x),x=l-v;return x>=d&&(_=x===d?1:Math.trunc(x/(d+n.x)),m=c===u?1:Math.trunc(c/(u+n.y))),a&&(y=(l-(v=_*d+g*u))/(_+g-1),console.log(l,v)),{x:o,y:r,width:h,height:p,paperSizeW:l,paperSizeH:c,imagesInR:f,imagesInRR:m,imagesInC:g,imagesInRC:_,totalImagesInColumn:v,remainSpace:x,space:{x:y,y:n.y}}}_autoFillRenderer(t,e,i){if(this._groupOfImages&&!this._isChanged)return;this._groupOfImages&&this._groupOfImages.destroy();const{margin:s,image:a,justifyContent:o}=i;if(!1==!!a.file)return;const{x:r,y:h,width:p,height:d,space:u,paperSizeW:l,paperSizeH:c,imagesInR:g,imagesInRR:f,imagesInC:_,imagesInRC:m,remainSpace:y}=this._calculateRender(e,i);!e&&(this._groupOfImages=new n.Group);let v=r+s.x,x=h+s.y,w=v;if(_>0)for(let i=1;i<=g;i++){for(let i=1;i<=_;i++){if(e)t.addImage(a.file,"JPEG",v,x,a.width(),a.height());else{let t=new n.Image({image:a.file,x:v,y:x,width:a.width(),height:a.height()});this._groupOfImages.add(t)}w=v+=a.width()+u.x}v=r+s.x,x+=a.height()+u.y}if(x=e?h+s.y-a.height():h+s.y,m>0)for(let i=1;i<=m;i++){for(let i=1;i<=f;i++){if(e)t.addImage(a.file,"JPEG",w,x,a.width(),a.height(),"","NONE",270);else{let t=new n.Image({image:a.file,x:w,y:x,width:a.width(),height:a.height()});t.offsetY(a.height()),t.rotate(90),this._groupOfImages.add(t)}x+=a.width()+u.y}x=e?h+s.y-a.height():h+s.y,w+=a.height()+u.x}this._groupOfImages.cache(),this.isCached=!0,!e&&t.getLayer().add(this._groupOfImages),this._isChanged=!1}_normalRenderer(t,e,i){if(this._groupOfImages&&!this._isChanged)return;this._groupOfImages&&this._groupOfImages.destroy();const{margin:s,image:a,justifyContent:o}=i;if(!1==!!a.file)return;const{x:r,y:h,width:p,height:d,space:u,paperSizeW:l,paperSizeH:c,imagesInR:g,imagesInRR:f,imagesInC:_,imagesInRC:m,remainSpace:y}=this._calculateRender(e,i);if(this._overSize=!1,this._removeSizeAlert&&this._removeSizeAlert(),_<=0&&m<=0)return this._overSize=!0,void(this._removeSizeAlert=this._showAlertBox("size","Size is too big! This paper can't contain it.","Use bigger paper or just make image smaller."));!e&&(this._groupOfImages=new n.Group);let v=this.copies,x=r+s.x,w=h+s.y,I=x;if(v>0){this._copiesLimit=_*g+f*m;for(let i=1;i<=this.copies&&!(i>_*g);i++){if(e)t.addImage(a.file,"JPEG",x,w,a.width(),a.height());else{let t=new n.Image({image:a.file,x:x,y:w,width:a.width(),height:a.height()});this._groupOfImages.add(t)}i%_==0?(I=x+a.width()+u.x,x=r+s.x,w+=a.height()+u.y):x+=a.width()+u.x,v--}w=e?h+s.y-a.height():h+s.y;for(let i=1;i<=v&&!(i>m*f);i++){if(e)t.addImage(a.file,"JPEG",I,w,a.width(),a.height(),"","NONE",270);else{let t=new n.Image({image:a.file,x:I,y:w,width:a.width(),height:a.height()});t.offsetY(a.height()),t.rotate(90),this._groupOfImages.add(t)}i%f==0?(w=e?h+s.y-a.height():h+s.y,I+=a.height()+u.x):w+=a.width()+u.y}}this._groupOfImages.cache(),this.isCached=!0,!e&&t.getLayer().add(this._groupOfImages),this._isChanged=!1}_sceneFunc(t,e){const{margin:i,space:n,justifyContent:s}=this;t.beginPath(),t.rect(0,0,e.getAttr("width"),e.getAttr("height")),this._marginLines(e),this.autoFill?this._autoFillRenderer(e,!1,{margin:i,space:n,image:this.image,justifyContent:s}):!this.autoFill&&this.copies>=1&&this._normalRenderer(e,!1,{margin:i,space:n,image:this.image,justifyContent:s}),t.fillStrokeShape(e)}_printPDF(t){let e=new a({orientation:"p",unit:this.unit,format:"a4",putOnlyUsedFonts:!0}),{margin:i,space:n,size:s}=this._convertThis(this.unit);const o=this.image.convertPX(this.unit);o.file.result&&(o.file=e.extractImageFromDataUrl(o.file.result).data),this._isChanged=!0,this.autoFill?this._autoFillRenderer(e,!0,{size:s,margin:i,space:n,image:o,justifyContent:this.justifyContent}):!this.autoFill&&this.copies>=1&&this._normalRenderer(e,!0,{size:s,margin:i,space:n,image:o,justifyContent:this.justifyContent}),this._isLoading=!0,setTimeout(()=>{e.save(`${t}.pdf`,{returnPromise:!0}).then(t=>{this._isLoading=!1,Imba.commit()})},2e3),this._isChanged=!0}_zoom(t,e){let i,n=this.getStage().scaleX();n>2&&this.isCached?this._groupOfImages.clearCache():this.isCached&&this._groupOfImages&&this._groupOfImages.cache();let s=(i=e?{x:this.getStage().width()/2,y:this.getStage().height()/2}:{x:this.getStage().getPointerPosition().x,y:this.getStage().getPointerPosition().y}).x/n-this.getStage().x()/n,a=i.y/n-this.getStage().y()/n,o="in"===t?n*this._scaleBy:n/this._scaleBy;this.getStage().scale({x:o,y:o});let r={x:-(s-i.x/o)*o,y:-(a-i.y/o)*o};this.getStage().position(r),this.getStage().batchDraw()}setDpi(t){this.dpi=t,this._isChanged=!0}setUnit(t){this.unit=t,this._isChanged=!0}setCopies(t,e){this.copies=t>-1?t:0,this._isChanged=!0}setMargin(t){this.margin={x:t.x>this.width()/2?this.width()/2-10:t.x,y:t.y>this.height()/2?this.height()/2-10:t.y},this._isChanged=!0}setSpace(t){this.space={x:t.x,y:t.y},this._isChanged=!0}setImageSize(t){this.image.width(t.width),this.image.height(t.height),this._isChanged=!0}setImageFile(t){this.image.file=t,this._isChanged=!0}setAutoFill(t){this.autoFill=!!t,this._isChanged=!0}setJustifyContent(t){this.justifyContent=!!t,this._isChanged=!0}setLockAspectRatio(t){this.lockAspectRatio=!!t,this._isChanged=!0}}},NQpH:function(t,e,i){var n=i("Mp44"),s=n.createElement,a=i("AU2K").UnitsButton;const o=i("ZLE6").Utils;var r=n.defineTag("UnitInput",(function(t){t.prototype.inputName=function(t){return this._inputName},t.prototype.setInputName=function(t){return this._inputName=t,this},t.prototype.inputI=function(t){return this._inputI},t.prototype.setInputI=function(t){return this._inputI=t,this},t.prototype.mount=function(){return this._input._dom.addEventListener("input",this.formatInput),this._input._dom.addEventListener("blur",this.formatInput)},t.prototype.formatInput=function(t){return""!==t.target.value&&0!==t.target.value||(t.target.value="0"),"00"===t.target.value&&(t.target.value="0"),t.target.value=t.target.value.replace(/[A-Za-z]/g,"").replace(/\-/g,"").replace(/^(-)?0+(?=\d)/,"$1")},t.prototype.render=function(){var t,e=this.$;return this.$open(0).setChildren(t=e[0]||(t=s("div",e,0,this)).flag("input").setContent([s("label",e,1,0).flag("label"),this._input=this._input||s("input",t).flag("input").setType("text").setValue("0",1),s(a,e,2,t)],2),2).synced((e[0].setFlag(0,this._inputName).end((e[1].setFor(""+this._inputName).setText(""+o.capitalize(this._inputName)).end(),this._input.bindData(this._inputI,"value").setFlag(0,this._inputName).setName(""+this._inputName).end(),e[2].setData(this._inputI).end(),!0)),!0))}}));e.UnitInput=r},XD0T:function(t,e,i){var n=i("Mp44"),s=n.createElement;i("ZLE6").Utils;const a=i("Ni3L");var o=n.defineTag("PreviewPanel",(function(t){t.prototype.mount=function(){var t=this;t._timer=0,window.addEventListener("resize",(function(e){return t.resizeCanvas(e)}));const e=t._dom.clientHeight,i=t._dom.clientWidth;return t.data()._stage=new a.Stage({container:"container",width:i,height:e,draggable:!0}),t.data()._layer=new a.Layer,t.data()._layer.add(t.data()._paper),t.data()._stage.add(t.data()._layer),t.data()._layer.draw(),t.data()._stage.on("wheel",(function(e){e.evt.preventDefault();var i=e.evt.deltaY>0?"out":"in";return t.data()._paper._zoom(i)}))},t.prototype.resizeCanvas=function(t){var e=this;return clearTimeout(e._timer),e._timer=setTimeout((function(){const t=e._dom.clientWidth,i=e._dom.clientHeight;return e.data()._stage.width(t),e.data()._stage.height(i),e.data()._stage.batchDraw()}),550)},t.prototype.render=function(){var t=this.$,e=this;return e.$open(0).setChildren(t.$=t.$||[s("div",t,0,e).setId("container"),s("div",t,1,e).flag("zoom-tools").setContent([s("button",t,2,1).flag("out").on$(0,["click",function(){return e.data()._paper._zoom("out",!0)}],e).setText("-"),s("button",t,3,1).flag("in").on$(0,["click",function(){return e.data()._paper._zoom("in",!0)}],e).setText("+")],2)],2).synced()}}));e.PreviewPanel=o},ZLE6:function(t,e){function i(){}e.Utils=i,i.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)},i.prototype.formatInput=function(t){return""!==t.target.value&&0!==t.target.value||(t.target.value="0"),"00"===t.target.value&&(t.target.value="0"),t.target.value=t.target.value.replace(/[A-Za-z]/g,"").replace(/\-/g,"").replace(/^(-)?0+(?=\d)/,"$1")},i.convertTo=function(t,e,i){if(void 0===t&&(t={from:"cm",to:"px"}),void 0===e&&(e=1),void 0===i&&(i=72),("string"==typeof e||e instanceof String||"string"==typeof i||i instanceof String)&&(e=parseInt(e),i=parseInt(i)),"px"===t.from)switch(t.to){case"cm":return e*(2.54/i);case"mm":return e*(25.4/i);default:return e}else if("cm"===t.from)switch(t.to){case"px":return i/2.54*e;case"mm":return 10*e;default:return e}else if("mm"===t.from)switch(t.to){case"px":return i/25.4*e;case"cm":return e/10;default:return e}}},dsjS:function(t,e){t.exports="<!doctype html> <html lang=en> <head> <title>Image Copier</title> <meta charset=utf-8> <meta http-equiv=Content-Security-Policy content=\"default-src 'self'; script-src 'self' *.mycdn.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; font-src https://fonts.gstatic.com/; img-src data:\"> <meta name=viewport content=\"width=device-width,initial-scale=1,user-scalable=no\"> <style>@font-face{font-family:'Roboto Mono';font-display:swap;src:local('Roboto Mono'),local('RobotoMono-Regular'),url(https://fonts.gstatic.com/s/robotomono/v7/L0x5DF4xlVMF-BfR8bXMIjhLq38.woff2) format('woff2')}*{font-family:\"Roboto Mono\",monospace;padding:0;margin:0}body{display:flex;justify-content:center;align-items:center}</style> </head> <body> </body> </html>"},eeGT:function(t,e,i){var n=i("Mp44"),s=n.createElement,a=i("vC1f").App;const o=new(0,i("xzXq").Stores);n.mount(s(a).setData(o).end())},gzKf:function(t,e,i){var n=i("Mp44"),s=n.createElement,a=i("NQpH").UnitInput;i("ZLE6").Utils;var o=n.defineTag("WidthHeight",(function(t){t.prototype.render=function(){var t=this.$;let e=this.data()._lockRatio?"8M4 4V8":"8";return this.$open(0).flag("two-inputs").setChildren(t.$=t.$||[s(a,t,0,this).setInputName("width").css("grid-column","2"),s("div",t,1,this).setId("space"),s(a,t,2,this).setInputName("height").css("grid-column","4"),s("div",t,3,this).setId("lock-box").css("display","flex").css("justify-content","center").css("align-items","center").setContent(t[4]||s("label",t,4,3).flag("lock-field").setContent([s("input",t,5,4).setType("checkbox"),s("span",t,6,4).flag("lock-icon").setContent(t[7]||s("svg:svg",t,7,6).set("width","13").set("height","16").set("viewBox","0 0 8 12").set("fill","none").set("xmlns","http://www.w3.org/2000/svg").setContent(t[8]||s("svg:path",t,8,7).set("stroke","black"),2),2)],2),2)],2).synced((t[0].setInputI(this.data()._sizes.width).end(),t[1].flagIf("lock-sign",this.data()._lockRatio),t[2].setInputI(this.data()._sizes.height).end(),t[3].end((t[5].bindData(this.data(),"_lockRatio").end(),t[7].end((t[8].set("d","M1.02449 5C1.02449 5 0.528579 1 4 1C7.47143 1 6.97551 5 6.97551 5M1.02449 8C1.02449 8 0.528568 11 4 11C7.47143 11 6.97551 8 6.97551 "+e).end(),!0)),!0)),!0))}}));e.WidthHeight=o},qNUD:function(t,e,i){var n=i("Mp44"),s=n.createElement,a=i("NQpH").UnitInput;i("ZLE6").Utils;var o=n.defineTag("SpaceMargin",(function(t){t.prototype.render=function(){var t=this.$;return this.$open(0).flag("two-inputs").setChildren(t.$=t.$||[s(a,t,0,this).setInputName("space").css("grid-column","2"),s("div",t,1,this).setId("space"),s(a,t,2,this).setInputName("margin").css("grid-column","4")],2).synced((t[0].setInputI(this.data()._space).end(),t[2].setInputI(this.data()._margin).end(),!0))}}));e.SpaceMargin=o},rzyw:function(t,e,i){var n=i("Mp44"),s=n.createElement;const a=i("ZLE6").Utils;var o=i("gzKf").WidthHeight,r=i("qNUD").SpaceMargin,h=n.defineTag("SizesField",(function(t){t.prototype.mount=function(){var t=this;return t._currentInput="width",t._timer=0,t._dom.addEventListener("keyup",(function(e){return t.checkType(e)})),t._dom.querySelector("input.width").addEventListener("click",(function(e){return t.checkInput(e)})),t._dom.querySelector("input.height").addEventListener("click",(function(e){return t.checkInput(e)})),t._dom.querySelector("label.lock-field").addEventListener("click",(function(e){return t.checkRatio(e)}))},t.prototype.checkRatio=function(){if(!this.data()._lockRatio){if(this.data()._paper.image.origWidth<=0&&this.data()._paper.image.origHeight<=0)return;a.convertTo({from:this.data()._sizes.width.unit,to:"px"},this.data()._sizes.width.value,this.data()._density.value),a.convertTo({from:this.data()._sizes.height.unit,to:"px"},this.data()._sizes.height.value,this.data()._density.value);"width"===this._currentInput?this.data()._sizes.height.value=""+this.data()._sizes.width.value*this.data()._paper.image.origHeight/this.data()._paper.image.origWidth:"height"===this._currentInput&&(this.data()._sizes.width.value=""+this.data()._sizes.height.value*this.data()._paper.image.origWidth/this.data()._paper.image.origHeight),n.commit()}return this.checkType()},t.prototype.checkType=function(){var t=this;let e=a.convertTo({from:t.data()._sizes.width.unit,to:"px"},t.data()._sizes.width.value,t.data()._density.value),i=a.convertTo({from:t.data()._sizes.height.unit,to:"px"},t.data()._sizes.height.value,t.data()._density.value);return t.data()._paper.image.origWidth<=0&&t.data()._paper.image.origHeight<=0&&(t.data()._paper.image.origWidth=e,t.data()._paper.image.origHeight=i),clearTimeout(t._timer),t._timer=setTimeout((function(){return t.data()._lockRatio&&"width"===t._currentInput?t.data()._sizes.height.value=""+e*t.data()._paper.image.origHeight/t.data()._paper.image.origWidth:t.data()._lockRatio&&"height"===t._currentInput&&(t.data()._sizes.width.value=""+i*t.data()._paper.image.origWidth/t.data()._paper.image.origHeight),n.commit(),t.data()._paper.setImageSize({width:a.convertTo({from:t.data()._sizes.width.unit,to:"px"},t.data()._sizes.width.value,t.data()._density.value),height:a.convertTo({from:t.data()._sizes.height.unit,to:"px"},t.data()._sizes.height.value,t.data()._density.value)}),t.data()._paper.setMargin({x:a.convertTo({from:t.data()._margin.unit,to:"px"},t.data()._margin.value,t.data()._density.value),y:a.convertTo({from:t.data()._margin.unit,to:"px"},t.data()._margin.value,t.data()._density.value)}),t.data()._paper.setSpace({x:a.convertTo({from:t.data()._space.unit,to:"px"},t.data()._space.value,t.data()._density.value),y:a.convertTo({from:t.data()._space.unit,to:"px"},t.data()._space.value,t.data()._density.value)}),t.data()._stage.batchDraw()}),550)},t.prototype.checkInput=function(t){return"first width"===t.target.className?this._currentInput="width":"second height"===t.target.className?this._currentInput="height":void 0},t.prototype.onchange=function(){var t;return this.data()._paper.setAutoFill(this.data()._autoFill),this.data()._paper.setLockAspectRatio(this.data()._lockRatio),this.data()._paper.setJustifyContent(t=this.data()._justifyContent),t},t.prototype.render=function(){var t=this.$;return this.$open(0).setChildren(t.$=t.$||[s(o,t,0,this),s(r,t,1,this),s("div",t,2,this).flag("checkbox-field").setContent([s("label",t,3,2).setId("auto-fill").setContent(["Auto Fill",s("input",t,4,3).setType("checkbox"),s("span",t,5,3)],2),s("div",t,6,2).setId("space"),s("label",t,7,2).setId("justify-content").setContent(["Justify Images",s("input",t,8,7).setType("checkbox"),s("span",t,9,7)],2)],2),s("div",t,10,this).flag("separator")],2).synced((t[0].bindData(this,"data",[]).end(),t[1].bindData(this,"data",[]).end(),t[4].bindData(this.data(),"_autoFill").end(),t[8].bindData(this.data(),"_justifyContent").end(),!0))}}));e.SizesField=h},vC1f:function(t,e,i){var n=i("Mp44"),s=n.createElement,a=i("4EH+").OptionPanel,o=i("XD0T").PreviewPanel,r=n.defineTag("App",(function(t){t.prototype.render=function(){var t=this.$;return this.$open(0).setChildren(t.$=t.$||[s("div",t,0,this).css("height","100%").css("display","grid").setContent(t[1]||s(a,t,1,0),2),s(o,t,2,this)],2).synced((t[0].end((t[1].bindData(this,"data",[]).end(),!0)),t[2].bindData(this,"data",[]).end(),!0))}}));e.App=r},xzXq:function(t,e,i){const n=i("ZLE6").Utils,s=(i("5RHE"),i("J+NY").PaperS),a=i("9ewe").ImageS;function o(){this._sizes={height:{value:"10",unit:"px"},width:{value:"10",unit:"px"}},this._filename={value:""},this._space={value:"1",unit:"px"},this._margin={value:"35",unit:"px"},this._copies={value:"323"},this._density={value:"72"},this._format={value:"A4",width:210,height:297,unit:"mm"},this._justifyContent=!1,this._lockRatio=!1,this._autoFill=!1,this._image=new a({width:n.convertTo({from:this._sizes.width.unit,to:"px"},this._sizes.width.value,this._density.value),height:n.convertTo({from:this._sizes.height.unit,to:"px"},this._sizes.height.value,this._density.value)}),this._paper=new s({x:10,y:10,color:"white",fill:"white",stroke:"black",image:this._image,dpi:parseInt(this._density.value),copies:parseInt(this._copies.value),width:n.convertTo({from:this._format.unit,to:"px"},this._format.width,this._density.value),height:n.convertTo({from:this._format.unit,to:"px"},this._format.height,this._density.value),margin:{x:n.convertTo({from:this._margin.unit,to:"px"},this._margin.value,this._density.value),y:n.convertTo({from:this._margin.unit,to:"px"},this._margin.value,this._density.value)},space:{x:n.convertTo({from:this._space.unit,to:"px"},this._space.value,this._density.value),y:n.convertTo({from:this._space.unit,to:"px"},this._space.value,this._density.value)},autoFill:this._autoFill,justifyContent:this._justifyContent,lockAspectRatio:this._lockRatio,unit:this._format.unit})}e.Stores=o,o.prototype.filename=function(t){return this._filename},o.prototype.setFilename=function(t){return this._filename=t,this},o.prototype.sizes=function(t){return this._sizes},o.prototype.setSizes=function(t){return this._sizes=t,this},o.prototype.space=function(t){return this._space},o.prototype.setSpace=function(t){return this._space=t,this},o.prototype.margin=function(t){return this._margin},o.prototype.setMargin=function(t){return this._margin=t,this},o.prototype.copies=function(t){return this._copies},o.prototype.setCopies=function(t){return this._copies=t,this},o.prototype.density=function(t){return this._density},o.prototype.setDensity=function(t){return this._density=t,this},o.prototype.format=function(t){return this._format},o.prototype.setFormat=function(t){return this._format=t,this},o.prototype.autoFill=function(t){return this._autoFill},o.prototype.setAutoFill=function(t){return this._autoFill=t,this},o.prototype.lockRatio=function(t){return this._lockRatio},o.prototype.setLockRatio=function(t){return this._lockRatio=t,this},o.prototype.paper=function(t){return this._paper},o.prototype.setPaper=function(t){return this._paper=t,this},o.prototype.canvas=function(t){return this._canvas},o.prototype.setCanvas=function(t){return this._canvas=t,this},o.prototype.justifyContent=function(t){return this._justifyContent},o.prototype.setJustifyContent=function(t){return this._justifyContent=t,this},o.prototype.generatePdf=function(){return this._paper.printPDF(this._filename.value)}}},[[0,1,2]]]);